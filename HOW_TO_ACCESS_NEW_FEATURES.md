# 如何访问新的设备管理功能

## 快速访问

### 方法1: 通过侧边栏（推荐）

刷新页面后，在左侧侧边栏中找到：

```
📦 设备管理（层级）  ← 点击这里！
⚙️ 变体管理
```

### 方法2: 直接访问URL

在浏览器地址栏输入：

**层级设备管理**:
```
http://localhost:5173/device-hierarchy
```

**变体管理**:
```
http://localhost:5173/device-variants
```

## 功能位置

### 📦 设备管理（层级）

**功能**:
- 型号 → 变体 → 设备实例的三层展示
- 鼠标悬停自动展开变体
- 快速添加变体（➕ 按钮）
- 点击变体查看详情

**位置**: 侧边栏 → "📦 设备管理（层级）"

**效果演示**:
```
鼠标悬停在"魔镜1号"
    ↓
自动展开：
├── 二次元版
├── 普通版
├── 高端版
└── [➕ 添加新变体] ← 点这里快速添加！
```

### ⚙️ 变体管理

**功能**:
- 查看所有型号的变体
- 编辑变体详细信息（SKU、打印机、库存）
- 删除变体
- 添加新变体

**位置**: 侧边栏 → "⚙️ 变体管理"

**效果演示**:
```
魔镜1号 [点击展开]
├── 二次元版 - SKU: MM1-2D - 库存: 10台 [编辑] [删除]
├── 普通版   - SKU: MM1-STD - 库存: 15台 [编辑] [删除]
└── 高端版   - SKU: MM1-PRO - 库存: 5台 [编辑] [删除]
```

## 使用流程

### 完整工作流

```
1. 📦 设备管理（层级）
   - 鼠标悬停查看变体
   - 点击 ➕ 快速添加变体
   - 输入名称 → 回车创建
   ↓
2. ⚙️ 变体管理
   - 完善变体详细信息
   - 设置SKU编码
   - 设置打印机型号
   - 设置库存数量
   ↓
3. 📦 设备管理（层级）
   - 查看完整信息
   - 点击变体查看详情
```

## 示例：添加新变体

### 场景：为"魔镜1号"添加"专业版"

**步骤**:

1. **点击侧边栏 "📦 设备管理（层级）"**
   
2. **鼠标悬停在"魔镜1号"**
   ```
   自动展开显示现有变体
   ```

3. **点击底部 "➕ 添加新变体"**
   ```
   显示输入框
   ```

4. **输入"专业版"并按回车**
   ```
   ✅ 变体"专业版"创建成功
   ```

5. **（可选）完善详细信息**
   - 点击侧边栏 "⚙️ 变体管理"
   - 找到"专业版"
   - 点击编辑按钮
   - 设置SKU、打印机型号、库存等

## 侧边栏完整导航

```
📊 首页
📈 统计看板
📦 库存管理
📤 出库管理
📋 审计日志
📦 设备管理（层级）  ← 新功能！
⚙️ 变体管理          ← 新功能！
📋 设备列表           ← 展开查看设备
   ├── + 新建设备
   ├── 魔镜10号
   ├── 魔镜1号
   ├── 魔镜2号
   └── ...
🖨️ 打印机操作指南
⚠️ 故障处理与应急
❓ 常见问题
```

## 对比

### 旧的设备列表 vs 新的层级管理

**旧的设备列表**（侧边栏下方）:
```
魔镜1号 [点击] → 设备详情
魔镜2号 [点击] → 设备详情
魔镜3号 [点击] → 设备详情

缺点: 看不到变体分类
```

**新的层级管理**（侧边栏上方）:
```
魔镜1号 [悬停展开]
├── 二次元版 [点击] → 变体详情
├── 普通版   [点击] → 变体详情
└── 高端版   [点击] → 变体详情

优点: 
- 清晰的层级结构
- 看到所有配置差异
- 快速添加变体
- 库存一目了然
```

## 常见问题

### Q: 为什么侧边栏没有显示新功能？
A: 刷新浏览器页面（Cmd+R 或 Ctrl+R）

### Q: 点击后页面空白？
A: 检查：
1. 是否运行了数据库迁移（0010）
2. 是否有预置数据
3. 查看浏览器控制台是否有错误

### Q: 如何切换回旧的设备列表？
A: 点击侧边栏下方的"设备列表"展开，点击具体设备名称。

### Q: 两个功能有什么区别？
A:
- **层级管理**: 浏览和快速添加，适合日常操作
- **变体管理**: 详细编辑和配置，适合管理员

## 排查步骤

如果看不到新功能：

```bash
# 1. 确认数据库迁移已执行
node scripts/apply-migration-0010.js

# 2. 确认开发服务器正在运行
npm run dev

# 3. 强制刷新浏览器
# Mac: Cmd + Shift + R
# Windows: Ctrl + Shift + R
```

## 数据验证

打开浏览器控制台，运行：

```javascript
// 验证路由是否正确
console.log(window.location.href);

// 应该看到类似：
// http://localhost:5173/device-hierarchy
```

## 总结

✅ **侧边栏位置**: 
   - 📦 设备管理（层级）
   - ⚙️ 变体管理

✅ **访问方式**:
   - 点击侧边栏菜单项
   - 直接访问URL

✅ **核心功能**:
   - 悬停展开变体
   - 快速添加变体
   - 完整的变体管理

---

**更新时间**: 2025年10月15日 00:03  
**状态**: 路由和侧边栏已配置完成
